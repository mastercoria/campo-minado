<!DOCTYPE html>

<html lang="es_MX">
<!-- 

***************************
*CAMPO MINADO. Terminado exitosamente el sábado 17 de septiembre de 2016 a las 14:30 horas (GMT -6 [hora central de México]).
*Funcionamiento disponible en MasterCoria.com: https://www.mastercoria.com/prueba-juego/campo-minado/v0.2/
* SI DESEA JUGAR OTRA VERSIÓN DE ESTE JUEGO, VEA LA SIGUIENTE URL: https://www.mastercoria.com/prueba-juego/campo-minado/{VERSIÓN}/
***************************
*MINED FILED. Finished successfully on saturday, september 17th of 2016 at 14:30 (GMT -6 [central time of Mexico]).
*A preview can be found on MasterCoria.com: https://www.mastercoria.com/prueba-juego/campo-minado/v0.2/
* IF YOU WOULD LIKE TO PLAY ANOTHER VERSION OF THIS GAME, SEE THE FOLLOWING URL: https://www.mastercoria.com/prueba-juego/campo-minado/{VERSION}/
************
*This game is in spanish, so you need to translate every indication that is in the game. 
***************************
*Version 0.2 - See change log for more details.
***************************
*
* COPYRIGHT (C) 2016 - 2017, MASTER CORIA TEAM.
* IF YOU WOULD LIKE TO CONTRIBUTE, PLEASE DO IT BUT DO NOT REMOVE MY COPYRIGHT NOTICE.
* THANKS SO MUCH. THIS GAME IS AN APPLICATION CREATED ON AND BY MASTERCORIA.COM
*
***************************

-->
 <head>
  <title>Juego de Campo Minado - Por Christopher Coria Vásquez</title>
  <!-- Codificación UTF-8. -->
  <meta charset="utf-8"/>
  <!-- Los estilos y declaraciones CSS de nuestro juego. -->    
  <link rel="stylesheet" href="css/estilos.css">
   <!-- Bootstrap.
   =================================================== -->
   <link rel="stylesheet" href="js/font-awesome-4.6.3/css/font-awesome.min.css">
   <!-- jQuery versión 3.1.0
   =================================================== --> 
   <script src="js/jquery-3.1.0.min.js"></script>
   <!-- Archivo responsable del método de envío de tiempo real (AJAX). -->
   <script src="js/ajax.js"></script> 
   <!-- Archivo responsable del botón del footer y el div que mostrará la información del juego. -->
   <script src="js/bienvenida.js"></script>
   <!-- Archivo que se encargará de obtener la selección del usuario. -->
   <script src="js/seleccion.js"></script>

   <!-- Adaptarlo para dispositivos móviles. -->
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
 </head>

<body>
 <!-- Nuestra cabecera de la página tendrá el título y un mensaje. -->
 <header> 
 <h3 style="text-align: center;">¡Campo Minado Básico!</h3>
 <hr />
 <small style="text-align: center;">Est&aacute;s en un campo minado. Da clic en un campo de coordenadas y que la suerte te depare.</small>
 </header>

 <!-- Nuestro cuerpo o main, donde pondremos nuestro campo del lado izquierdo y un contador del lado derecho. -->
<main>  
  <!-- Donde irá el campo. -->
 <div id="CajaIzquierda">
 <!-- Comienzo del campo de batalla. -->
  <div id="CajaTabla">
 	 <table border="1" width="60%" height="60%" align="center">
 	  <tbody>
 	   <tr align="center" id="CeldasVectoresHorizontales">
       <!-- Loader del juego. Se le mostrará mientras dura la ejecución del juego. -->
 	 	   <td id="loader" class="selector"></td>
 	 	   <td class="selector">0</td>
 	 	   <td class="selector">1</td>
 	 	   <td class="selector">2</td>
 	 	   <td class="selector">3</td>
       <td class="selector">4</td>
 	   </tr>
 	   <tr align="center">
 	 	   <td class="selector">0</td>
     	 <td id="campo0" class="campo" onclick="ActualizarSeleccion(0,0);" onmouseover="MostrarCoordenadas(0,0);"></td>
     	 <td id="campo1" class="campo" onclick="ActualizarSeleccion(1,0);" onmouseover="MostrarCoordenadas(1,0);"></td>
     	 <td id="campo2" class="campo" onclick="ActualizarSeleccion(2,0);" onmouseover="MostrarCoordenadas(2,0);"></td>
     	 <td id="campo3" class="campo" onclick="ActualizarSeleccion(3,0);" onmouseover="MostrarCoordenadas(3,0);"></td>
       <td id="campo4" class="campo" onclick="ActualizarSeleccion(4,0);" onmouseover="MostrarCoordenadas(4,0);"></td>
 	   </tr>
 	   <tr align="center">
 		   <td class="selector">1</td>
       <td id="campo5" class="campo" onclick="ActualizarSeleccion(0,1);" onmouseover="MostrarCoordenadas(0,1);"></td>
       <td id="campo6" class="campo" onclick="ActualizarSeleccion(1,1);" onmouseover="MostrarCoordenadas(1,1);"></td>
       <td id="campo7" class="campo" onclick="ActualizarSeleccion(2,1);" onmouseover="MostrarCoordenadas(2,1);"></td>
       <td id="campo8" class="campo" onclick="ActualizarSeleccion(3,1);" onmouseover="MostrarCoordenadas(3,1);"></td>
       <td id="campo9" class="campo" onclick="ActualizarSeleccion(4,1);" onmouseover="MostrarCoordenadas(4,1);"></td>
 	   </tr>
 	   <tr align="center">
 		   <td class="selector">2</td>
 		   <td id="campo10" class="campo" onclick="ActualizarSeleccion(0,2);" onmouseover="MostrarCoordenadas(0,2);"></td>
 		   <td id="campo11" class="campo" onclick="ActualizarSeleccion(1,2);" onmouseover="MostrarCoordenadas(1,2);"></td>
 		   <td id="campo12" class="campo" onclick="ActualizarSeleccion(2,2);" onmouseover="MostrarCoordenadas(2,2);"></td>
 		   <td id="campo13" class="campo" onclick="ActualizarSeleccion(3,2);" onmouseover="MostrarCoordenadas(3,2);"></td>
       <td id="campo14" class="campo" onclick="ActualizarSeleccion(4,2);" onmouseover="MostrarCoordenadas(4,2);"></td>
 	   </tr>
 	   <tr align="center">
 		   <td class="selector">3</td>
 		   <td id="campo15" class="campo" onclick="ActualizarSeleccion(0,3);" onmouseover="MostrarCoordenadas(0,3);"></td>
 		   <td id="campo16" class="campo" onclick="ActualizarSeleccion(1,3);" onmouseover="MostrarCoordenadas(1,3);"></td>
 		   <td id="campo17" class="campo" onclick="ActualizarSeleccion(2,3);" onmouseover="MostrarCoordenadas(2,3);"></td>
 		   <td id="campo18" class="campo" onclick="ActualizarSeleccion(3,3);" onmouseover="MostrarCoordenadas(3,3);"></td>
       <td id="campo19" class="campo" onclick="ActualizarSeleccion(4,3);" onmouseover="MostrarCoordenadas(4,3);"></td>
 	   </tr>
     <tr align="center">
       <td class="selector">4</td>
       <td id="campo20" class="campo" onclick="ActualizarSeleccion(0,4);" onmouseover="MostrarCoordenadas(0,4);"></td>
       <td id="campo21" class="campo" onclick="ActualizarSeleccion(1,4);" onmouseover="MostrarCoordenadas(1,4);"></td>
       <td id="campo22" class="campo" onclick="ActualizarSeleccion(2,4);" onmouseover="MostrarCoordenadas(2,4);"></td>
       <td id="campo23" class="campo" onclick="ActualizarSeleccion(3,4);" onmouseover="MostrarCoordenadas(3,4);"></td>
       <td id="campo24" class="campo" onclick="ActualizarSeleccion(4,4);" onmouseover="MostrarCoordenadas(4,4);"></td>
     </tr>     
 	  </tbody>
 	 </table>
  </div>

  <!-- Si hay algún error, se le hará saber al usuario. -->
  <div id="MostrarError" style="display: none;"></div>

  <!-- Le mostrará si perdió, o si ganó. -->
  <div id="ResultadoCampo"></div>
 </div>

 <!-- Caja de posicionamiento de coordenada. -->
 <div id="PosicionCoordenada">
  <h2 style="text-align:center;">Coordenada (x,y):</h2><hr /><br />
  <div id="MostrarLaCoordenada"><p style='text-align: center; color: red; font-size:2.5em;'>0,0</p></div>
 </div>

 <!-- Contiene el registro del juego. --> 
 <div id="RegistroJuego"><h2 style="text-align:center;">Mensajes del Juego</h2><hr />
  <div id="MensajesDelJuego"></div>
 </div>

<!-- Donde se pondrán los puntajes de los usuarios. -->
 <div id="CajaDerecha">
  <!-- Mostrará un "Haz sobrevivido:" si el usuario ha sobrevivido mientras juega, en caso de que haya perdido, le mostrará un "Sobreviviste:". -->
  <div id="MensajePuntajeUsuario"><h2 style='text-align: center;'>Haz sobrevivido: </h2></div><hr /> 
  <!-- Este es el contador, la variable "NumVecesSobrevir" (ubicada un poco más abajo de este documento) será el que lleve las cuentas a través del archivo "campo.js". -->
  <div id ="PuntajeUsuario"><p style='text-align: center; color: red; font-size:2.5em;'>0</p></div>
  <!-- Mostrará "veces." si es 0 o mayor a 1; "vez." si es 1. -->
  <div id="VecesSobrevivir"><h2 style='text-align: center;'>veces.</h2></div>
 </div>
</main>

<!-- Nuestro pié de página tendrá los sonidos. -->
<footer>
 <!-- Sonidos -->
  <!-- Este sonido suena cuando el usuario recién pone sus coordenadas. -->
  <div id="SonidoLocalizacion" style="display: none;">
   <audio id="SonidoLocalizacionReproductor" src="sounds/user_location.mp3"></audio>
  </div>
  <!-- Este suena cuando el usuario pierde el juego. -->
  <div id="SonidoPerder" style="display: none;">
   <audio id="SonidoPerderReproductor" src="sounds/lose2.wav"></audio>
  </div>
  <!-- Este suena cuando en el campo que el usuario eligió no hay bomba (gana). --> 
  <div id="SonidoGanar" style="display: none;">
   <audio id="SonidoGanarReproductor" src="sounds/win.wav"></audio>
  </div>
  <!-- Este suena cuando hay un error. --> 
  <div id="SonidoError" style="display: none;">
   <audio id="SonidoErrorReproductor" src="sounds/error.mp3"></audio>
  </div>

  <!-- Nuestras variables globales del juego. Se declaran aquí para que en ejecuciones mayores a 1 no se vuelvan a inicializar en 0 y mantengan sus valores numéricos originales a los de la anterior partida. -->
  <script type="text/javascript" id="ContenedorScript">
  // Variable de repetición, que detecta cuántas veces han transcurrido del juego.
  var VecesDelJuego = 0; 
 
  // Variable que detecta si el usuario ha perdido o no. 0: No. 1: Sí.
  var fase = 0;
 
  // Variable que no deja al código generar más campos. 0: Permitir generar campo. 1: No permitir generar campo.
  var NoGenerarCampos = 0;

  // Variable que detecta cuántas veces ha ganado el usuario.
  var NumVecesSobrevivir = 0;

  // Variable que se encarga de generar los campos.
  var GenCampo;

  // Variable para mostrar la información al usuario.
  var mostrar = 0;
  
  // Variable para obtener la selección del usuario en la componente "X". La selección se hace en "js/seleccion.js".
  var ComponenteEnX;
  
  // Variable para obtener la selección del usuario en la componente "Y". La selección se hace en "js/seleccion.js".
  var ComponenteEnY;

  // Mensaje de bienvenida al juego.
  setTimeout(function(){
    document.getElementById("MensajesDelJuego").innerHTML += "<p style='text-align:center;'>¡Hola! Bienvenido al juego. Para jugar, haz clic en el campo que deseas posicionarte. Si sólo pasas el mouse, te mostrará la posición de ese campo. <br /> BUENA SUERTE</p>";
  }, 1000);

  // Si aparece el scroll del sistema de mensajes del juego, entonces mandará hasta abajo de los mensajes.
  $('#MensajesDelJuego').scrollTop($('#MensajesDelJuego')[0].scrollHeight); 
 </script>

 <br /><br />
 <!-- Caja que se encarga de mostrar el botón de volver a jugar cuando el usuario ya ha perdido. -->
 <div id="MostrarVolverJugar"></div>

 <!-- Caja de texto de información. -->
 <center><input type="button" value="Mostrar información" id="BotonMostrarInformacion" onclick="MostrarInformacion();" /></center>
 <div id="Informacion" style="display: none; text-align: center;">
  <h3>Bienvenido/a a mi juego</h3>
  <small>Este juego es uno de campo minado y tiene la siguiente dinámica:</small>
  <small>Das clic en el campo que quieres posicionarte y el programa generará un campo aleatorio, pondrá tu punto dependiendo a elección de coordenadas y a continuación, te dirá si perdiste o no. <br/>En caso de que no hayas perdido, podrás seguir jugando hasta que pierdas. El campo aleatorio que te toque siempre será el mismo para todas las veces que juegues hasta que pierdas. <br/>Cuando pierdas, para volver a jugar, tendrás que apretarle en el botón "Volver a jugar", y ahí elegirás un campo y habrá otro nuevo campo aleatorio y así sucesivamente ... <br/><h5>¡BUENA SUERTE Y DIVIÉRTETE!</h5></p>
  <p>Copyright &copy; 2016, Christopher Coria Vásquez.</small>
 </div>
  <small style="text-align: center;">¿Quieres descargar el código fuente? <a href="https://github.com/mastercoria/campo-minado" target="_blank" title="Ir a GitHub para su descarga.">Clic aquí</a>.</small> 
</footer>
</body>
</html>